# ğŸ§® KAPSAMLI SKORLAMA ALGORÄ°TMASI - TÃœM PHASE'LER VE ENTEGRASYON

## ğŸ“‹ GENEL SÄ°STEM MÄ°MARÄ°SÄ°

### **Skorlama AkÄ±ÅŸÄ±:**
```
Phase 1: GerÃ§ek Hedef (3 soru) â†’ GerÃ§ek Ä°lgi Skoru
    â†“
Phase 1.5: MillÃ® Vizyon (9 soru) â†’ MillÃ® Vizyon Skoru  
    â†“
Phase 2: Klasik Yetenek (14 soru) â†’ Temel Yetenek Skoru
    â†“
Phase 3: Hibrit Strateji (3 soru) â†’ Hibrit Uyum Skoru
    â†“
Final Entegrasyon â†’ Ã–nerilen BÃ¶lÃ¼m + Strateji
```

---

## ğŸ¯ PHASE 1: GERÃ‡EK HEDEF TESPÄ°TÄ° (3 soru)

### **Puanlama Sistemi:**
Her soru A-G seÃ§enekleri ile farklÄ± bÃ¶lÃ¼mlere puan verir.

### **SORU A1: Ä°deal BÃ¶lÃ¼m Tercihi**
```python
secenek_puanlari = {
    'A': {'BM': 5, 'SGM': 2, 'YZVM': 3, 'EHM': 1, 'KOM': 1, 'ROSM': 2},
    'B': {'EHM': 5, 'KOM': 1, 'SGM': 1, 'YZVM': 1, 'BM': 1, 'ROSM': 1},
    'C': {'KOM': 5, 'EHM': 2, 'ROSM': 3, 'YZVM': 1, 'BM': 1, 'SGM': 1},
    'D': {'SGM': 5, 'BM': 2, 'YZVM': 1, 'EHM': 1, 'KOM': 1, 'ROSM': 1},
    'E': {'YZVM': 5, 'BM': 3, 'SGM': 2, 'ROSM': 2, 'EHM': 1, 'KOM': 1},
    'F': {'ROSM': 5, 'KOM': 3, 'YZVM': 2, 'EHM': 1, 'BM': 1, 'SGM': 1},
    'G': {'BM': 1, 'EHM': 1, 'KOM': 1, 'SGM': 1, 'YZVM': 1, 'ROSM': 1}
}
```

### **SORU A2 ve A3** 
*[Benzer puanlama matrisleri - knowledge base "GENÄ°ÅLETÄ°LMÄ°Å SORU SETÄ°" dokÃ¼manÄ±ndan alÄ±nÄ±r]*

### **GerÃ§ek Hedef Skoru Hesaplama:**
```python
def calculate_real_target_score(cevaplar):
    bolum_puanlari = {'BM': 0, 'EHM': 0, 'KOM': 0, 'SGM': 0, 'YZVM': 0, 'ROSM': 0}
    
    for i, cevap in enumerate(cevaplar):
        soru_puanlari = PHASE1_SORULAR[i][cevap]
        for bolum, puan in soru_puanlari.items():
            bolum_puanlari[bolum] += puan
    
    # Normalizasyon (0-100 arasÄ±)
    max_puan = max(bolum_puanlari.values())
    for bolum in bolum_puanlari:
        bolum_puanlari[bolum] = (bolum_puanlari[bolum] / max_puan) * 100
    
    return bolum_puanlari
```

---

## ğŸ‡¹ğŸ‡· PHASE 1.5: MÄ°LLÃ VÄ°ZYON DEÄERLENDÄ°RMESÄ° (12 soru)

### **Kategori AÄŸÄ±rlÄ±klarÄ±:**
- **Kategori A: MillÃ® Sorunlara YaklaÅŸÄ±m** (30% aÄŸÄ±rlÄ±k)  
- **Kategori B: Teknoloji Transferi YaklaÅŸÄ±mÄ±** (30% aÄŸÄ±rlÄ±k)
- **Kategori C: GerÃ§ek DÃ¼nya Etki Motivasyonu** (25% aÄŸÄ±rlÄ±k)
- **Kategori D: Jeopolitik FarkÄ±ndalÄ±k ve MillÃ® GÃ¼venlik** (15% aÄŸÄ±rlÄ±k)

### **MillÃ® Vizyon Skoru Hesaplama:**
```python
def calculate_milli_vizyon_score(cevaplar):
    # Kategori puanlarÄ± hesaplama (her kategori 3 soru, max 15 puan)
    kategori_A = sum(KATEGORI_A_PUANLARI[i][cevaplar[i]] for i in range(3))      # Soru 1-3
    kategori_B = sum(KATEGORI_B_PUANLARI[i][cevaplar[i+3]] for i in range(3))    # Soru 4-6
    kategori_C = sum(KATEGORI_C_PUANLARI[i][cevaplar[i+6]] for i in range(3))    # Soru 7-9
    kategori_D = sum(KATEGORI_D_PUANLARI[i][cevaplar[i+9]] for i in range(3))    # Soru 10-12 (YENÄ°)
    
    # AÄŸÄ±rlÄ±klÄ± toplam (gÃ¼ncellenmiÅŸ aÄŸÄ±rlÄ±klar)
    milli_vizyon_skoru = (
        (kategori_A / 15) * 0.30 +  # Max 15 puan (3 soru Ã— 5 puan)
        (kategori_B / 15) * 0.30 +  
        (kategori_C / 15) * 0.25 +
        (kategori_D / 15) * 0.15    # YENÄ° KATEGORI
    ) * 100
    
    return milli_vizyon_skoru

def get_milli_vizyon_bonus(milli_vizyon_skoru):
    if milli_vizyon_skoru >= 85:
        return 0.15, "Vatansever Teknoloji Lideri"
    elif milli_vizyon_skoru >= 70:
        return 0.10, "BilinÃ§li Teknoloji UzmanÄ±"
    elif milli_vizyon_skoru >= 55:
        return 0.05, "Potansiyel Sosyal Etki"
    else:
        return 0.00, "Bireysel OdaklÄ± Kariyer"
```

### **Kategori D: Jeopolitik FarkÄ±ndalÄ±k Puanlama Matrisleri:**

#### **SORU D1: SavaÅŸ Riski ve Teknoloji Ã–nceliÄŸi**
```python
D1_PUANLARI = {
    'A': {'EHM': 5, 'KOM': 4, 'SGM': 5, 'YZVM': 3, 'BM': 3, 'ROSM': 5},
    'B': {'EHM': 2, 'KOM': 3, 'SGM': 2, 'YZVM': 4, 'BM': 4, 'ROSM': 2},
    'C': {'EHM': 4, 'KOM': 5, 'SGM': 4, 'YZVM': 5, 'BM': 4, 'ROSM': 4},
    'D': {'EHM': 1, 'KOM': 1, 'SGM': 1, 'YZVM': 1, 'BM': 1, 'ROSM': 1},
    'E': {'EHM': 1, 'KOM': 1, 'SGM': 1, 'YZVM': 1, 'BM': 1, 'ROSM': 1}
}
```

#### **SORU D2: Savunma-Sivil Entegrasyonu Aciliyeti**
```python
D2_PUANLARI = {
    'A': {'EHM': 5, 'KOM': 5, 'SGM': 3, 'YZVM': 4, 'BM': 4, 'ROSM': 5},
    'B': {'EHM': 4, 'KOM': 3, 'SGM': 4, 'YZVM': 3, 'BM': 3, 'ROSM': 3},
    'C': {'EHM': 2, 'KOM': 2, 'SGM': 3, 'YZVM': 2, 'BM': 2, 'ROSM': 2},
    'D': {'EHM': 1, 'KOM': 2, 'SGM': 5, 'YZVM': 2, 'BM': 2, 'ROSM': 1},
    'E': {'EHM': 1, 'KOM': 1, 'SGM': 1, 'YZVM': 1, 'BM': 1, 'ROSM': 1}
}
```

#### **SORU D3: MillÃ® GÃ¼venlik KatkÄ± Motivasyonu**
```python
D3_PUANLARI = {
    'A': {'EHM': 4, 'KOM': 3, 'SGM': 5, 'YZVM': 2, 'BM': 2, 'ROSM': 4},
    'B': {'EHM': 5, 'KOM': 5, 'SGM': 4, 'YZVM': 4, 'BM': 4, 'ROSM': 5},
    'C': {'EHM': 2, 'KOM': 2, 'SGM': 2, 'YZVM': 3, 'BM': 3, 'ROSM': 2},
    'D': {'EHM': 3, 'KOM': 3, 'SGM': 3, 'YZVM': 4, 'BM': 3, 'ROSM': 3},
    'E': {'EHM': 2, 'KOM': 2, 'SGM': 2, 'YZVM': 2, 'BM': 2, 'ROSM': 2}
}
```

---

## ğŸ“Š PHASE 2: KLASÄ°K YETENEk ANALÄ°ZÄ° (14 soru)

### **Dinamik Soru SeÃ§imi:**
Phase 1 sonucuna gÃ¶re 17 sorudan 14'Ã¼ seÃ§ilir.

```python
def select_phase2_questions(gercek_hedef_bolum, milli_vizyon_profili):
    soru_havuzu = {
        'matematik': [1.1, 1.2, 1.3, 1.4],
        'pratik_ilgi': [2.1, 2.2, 2.3],
        'kariyer': [3.1, 3.2, 3.3, 3.4],
        'fizik_teknik': [4.1, 4.2],
        'stres': [5.1, 5.2],
        'risk': [6.1, 6.2]
    }
    
    # MillÃ® vizyon profiline gÃ¶re ek soru seÃ§imi
    if milli_vizyon_profili.get('jeopolitik_farkindalik', 0) > 70:
        # Jeopolitik farkÄ±ndalÄ±ÄŸÄ± yÃ¼ksek Ã¶ÄŸrenciler iÃ§in gÃ¼venlik odaklÄ± sorular
        if gercek_hedef_bolum in ['EHM', 'SGM', 'ROSM']:
            return savunma_odakli_secim()
    
    if gercek_hedef_bolum == 'BM':
        return matematik_odakli_secim()
    elif gercek_hedef_bolum == 'EHM':
        return fizik_matematik_odakli_secim()
    elif gercek_hedef_bolum == 'SGM':
        return guvenlik_analitik_odakli_secim()
    # ... diÄŸer bÃ¶lÃ¼mler
```

### **Temel Skorlama Sistemi:**
```python
def calculate_basic_aptitude_score(cevaplar):
    # Mevcut knowledge base'deki skorlama sistemi
    ham_puanlar = {}
    
    for bolum in ['EHM', 'KOM', 'SGM']:
        ham_puan = sum(SORU_PUANLARI[i][cevaplar[i]][bolum] for i in range(14))
        
        # YÃ¼zde dÃ¶nÃ¼ÅŸÃ¼mÃ¼
        if bolum == 'EHM':
            yuzde = ((ham_puan - 18) / 32) * 100
        elif bolum == 'KOM':
            yuzde = ((ham_puan - 16) / 36) * 100
        elif bolum == 'SGM':
            yuzde = ((ham_puan - 18) / 36) * 100
            
        ham_puanlar[bolum] = max(0, min(100, yuzde))
    
    return ham_puanlar
```

### **YKS Profil Bonusu:**
```python
def apply_yks_bonus(skorlar, yks_profil):
    bonus_katsayilari = {
        'EHM': 1.15,  # GÃ¼Ã§lÃ¼ matematik+fizik iÃ§in bÃ¼yÃ¼k avantaj
        'KOM': 1.05,  # Orta dÃ¼zey avantaj
        'SGM': 1.10   # Analitik dÃ¼ÅŸÃ¼nce iÃ§in avantaj
    }
    
    for bolum in skorlar:
        skorlar[bolum] *= bonus_katsayilari.get(bolum, 1.0)
        skorlar[bolum] = min(100, skorlar[bolum])  # 100'Ã¼ geÃ§mesin
    
    return skorlar
```

---

## ğŸ”„ PHASE 3: HÄ°BRÄ°T STRATEJÄ° DEÄERLENDÄ°RMESÄ° (3 soru)

### **Hibrit Skor Hesaplama:**
```python
def calculate_hybrid_strategy_score(gercek_hedef, en_yuksek_mevcut, phase3_cevaplar):
    if gercek_hedef == en_yuksek_mevcut:
        return None  # Hibrit strateji gerekmez
    
    # Benzerlik oranlarÄ± (Knowledge Base'den)
    benzerlik_matrisi = {
        ('BM', 'SGM'): 0.85, ('BM', 'YZVM'): 0.75, ('EHM', 'KOM'): 0.60,
        ('SGM', 'YZVM'): 0.55, ('KOM', 'ROSM'): 0.55, ('EHM', 'SGM'): 0.45
        # ... diÄŸer kombinasyonlar
    }
    
    benzerlik_orani = benzerlik_matrisi.get((en_yuksek_mevcut, gercek_hedef), 0.3)
    
    # GeÃ§iÅŸ kolaylÄ±ÄŸÄ±
    gecis_kolayligi = {
        ('BM', 'SGM'): 0.90, ('BM', 'YZVM'): 0.80, ('EHM', 'KOM'): 0.65
        # ... diÄŸer kombinasyonlar
    }
    
    gecis_orani = gecis_kolayligi.get((en_yuksek_mevcut, gercek_hedef), 0.4)
    
    # Kariyer avantajÄ±
    kariyer_avantaji = {
        ('BM', 'SGM'): 0.50,  # DevSecOps %50 maaÅŸ artÄ±ÅŸÄ±
        ('SGM', 'YZVM'): 0.60,  # AI Security %60 maaÅŸ artÄ±ÅŸÄ±
        # ... diÄŸer kombinasyonlar
    }
    
    kariyer_bonus = kariyer_avantaji.get((en_yuksek_mevcut, gercek_hedef), 0.2)
    
    # Phase 3 esneklik bonusu
    esneklik_bonusu = calculate_flexibility_bonus(phase3_cevaplar)
    
    # Final hibrit skor
    hibrit_skor = (
        gercek_hedef_skoru * 0.4 +
        benzerlik_orani * 30 +  # 0.3 â†’ 30 puan
        gecis_orani * 20 +      # 0.2 â†’ 20 puan  
        kariyer_bonus * 10 +    # 0.1 â†’ 10 puan
        esneklik_bonusu
    )
    
    return hibrit_skor

def calculate_flexibility_bonus(cevaplar):
    # C1: Esneklik testi, C2: Yatay geÃ§iÅŸ, C3: Hibrit kariyer
    bonus = 0
    if cevaplar[0] == 'A': bonus += 4  # Esneklik kabul
    if cevaplar[1] == 'A': bonus += 4  # Yatay geÃ§iÅŸ planÄ±
    if cevaplar[2] == 'A': bonus += 2  # Hibrit kariyer ilgisi
    return bonus
```

---

## ğŸ¯ FÄ°NAL ENTEGRASYON VE KARAR MATRÄ°SÄ°

### **Kalibre EdilmiÅŸ Karar AlgoritmasÄ±:**
```python
def final_decision_algorithm(gercek_hedef_skorlari, temel_yetenek_skorlari, 
                           milli_vizyon_skoru, hibrit_skor=None):
    
    # En yÃ¼ksek skorlar
    en_yuksek_gercek = max(gercek_hedef_skorlari, key=gercek_hedef_skorlari.get)
    en_yuksek_temel = max(temel_yetenek_skorlari, key=temel_yetenek_skorlari.get)
    
    # MillÃ® vizyon bonusu
    mv_bonus_oran, mv_seviye = get_milli_vizyon_bonus(milli_vizyon_skoru)
    
    # Final skorlarÄ± hesaplama
    final_skorlari = {}
    for bolum in ['EHM', 'KOM', 'SGM']:  # Ana 3 bÃ¶lÃ¼m
        temel_skor = temel_yetenek_skorlari.get(bolum, 0)
        final_skor = temel_skor * (1 + mv_bonus_oran)
        final_skorlari[bolum] = min(100, final_skor)
    
    # Karar matrisi
    en_yuksek_final = max(final_skorlari, key=final_skorlari.get)
    en_yuksek_final_skor = final_skorlari[en_yuksek_final]
    
    # Hibrit strateji deÄŸerlendirmesi
    if hibrit_skor is not None:
        if hibrit_skor >= 90:
            return "NET_HIBRIT_STRATEJI", en_yuksek_temel, en_yuksek_gercek, hibrit_skor
        elif hibrit_skor >= 85:
            return "KOSULLU_HIBRIT", en_yuksek_temel, en_yuksek_gercek, hibrit_skor
        elif hibrit_skor >= 75 and en_yuksek_final_skor >= 75:
            return "HIBRIT_VS_DIREKT", en_yuksek_temel, en_yuksek_gercek, hibrit_skor
        elif hibrit_skor >= 75:
            return "HIBRIT_STRATEJI", en_yuksek_temel, en_yuksek_gercek, hibrit_skor
    
    # Direkt bÃ¶lÃ¼m kararlarÄ±
    if en_yuksek_final_skor >= 85:
        ikinci_en_yuksek = sorted(final_skorlari.values(), reverse=True)[1]
        fark = en_yuksek_final_skor - ikinci_en_yuksek
        if fark >= 15:
            return "NET_KARAR", en_yuksek_final, en_yuksek_final_skor, fark
        else:
            return "GUCLU_EGILIM", en_yuksek_final, en_yuksek_final_skor, fark
    elif en_yuksek_final_skor >= 65:
        return "ORTA_UYUM", en_yuksek_final, en_yuksek_final_skor, 0
    else:
        return "DUSUK_UYUM", None, en_yuksek_final_skor, 0
```

### **KapsamlÄ± SonuÃ§ Raporu FormatÄ±:**
```python
def generate_comprehensive_report(karar_tipi, bolum1, bolum2, skorlar, mv_skor, mv_seviye):
    rapor = {
        "karar_tipi": karar_tipi,
        "onerileri": {
            "birincil": bolum1,
            "alternatif": bolum2 if karar_tipi.startswith("HIBRIT") else None
        },
        "skorlar": {
            "temel_yetenek": skorlar,
            "milli_vizyon": {
                "toplam_skor": mv_skor,
                "seviye": mv_seviye,
                "kategorik_detay": {
                    "milli_sorunlar": kategori_A_skor,
                    "teknoloji_transferi": kategori_B_skor,
                    "sosyal_etki": kategori_C_skor,
                    "jeopolitik_farkindalik": kategori_D_skor  # YENÄ°
                }
            }
        },
        "detayli_analiz": generate_detailed_analysis(karar_tipi, bolum1, bolum2),
        "aksiyon_plani": generate_action_plan(karar_tipi, bolum1, bolum2),
        "milli_guvenlik_katki": generate_security_contribution_analysis(bolum1, kategori_D_skor)  # YENÄ°
    }
    return rapor

def generate_security_contribution_analysis(bolum, jeopolitik_skor):
    """Jeopolitik farkÄ±ndalÄ±k skoruna gÃ¶re millÃ® gÃ¼venlik katkÄ± analizi"""
    if jeopolitik_skor >= 12:  # YÃ¼ksek farkÄ±ndalÄ±k (15 Ã¼zerinden 12+)
        return f"{bolum} alanÄ±nda dual-use teknoloji geliÅŸtirme potansiyeli yÃ¼ksek"
    elif jeopolitik_skor >= 8:  # Orta farkÄ±ndalÄ±k
        return f"{bolum} alanÄ±nda savunma-sivil teknoloji transfer fÄ±rsatlarÄ± mevcut"
    else:
        return f"{bolum} alanÄ±nda sivil odaklÄ± katkÄ±, gÃ¼venlik farkÄ±ndalÄ±ÄŸÄ± geliÅŸtirilebilir"
```

---

## ğŸ“Š HATA AYIKLAMA VE KALÄ°TE KONTROL

### **Skorlama DoÄŸrulama:**
```python
def validate_scoring_system():
    # TÃ¼m skorlarÄ±n 0-100 arasÄ±nda olduÄŸunu kontrol et
    # Bonus katsayÄ±larÄ±nÄ±n mantÄ±klÄ± olduÄŸunu kontrol et  
    # Hibrit skorlarÄ±n benzerlik oranlarÄ±yla uyumlu olduÄŸunu kontrol et
    pass

def debug_scoring_process(all_answers):
    # Her phase'in skorlarÄ±nÄ± adÄ±m adÄ±m gÃ¶ster
    # Hangi sorularÄ±n hangi bÃ¶lÃ¼mlere nasÄ±l puan verdiÄŸini izle
    # Final kararÄ±n hangi faktÃ¶rlere dayandÄ±ÄŸÄ±nÄ± raporla
    pass
```

### **Test SenaryolarÄ±:**
```python
test_scenarios = {
    "yuksek_mv_dusuk_teknik": {
        "beklenen": "motivasyon artÄ±rÄ±cÄ± Ã¶neriler",
        "test_cevaplari": [...]
    },
    "dusuk_mv_yuksek_teknik": {
        "beklenen": "toplumsal katkÄ± vurgusu",
        "test_cevaplari": [...]
    },
    "hibrit_gerekli": {
        "beklenen": "hibrit strateji Ã¶nerisi",
        "test_cevaplari": [...]
    },
    "yuksek_jeopolitik_farkindalik": {  # YENÄ°
        "beklenen": "savunma-sivil dual-use teknoloji odaklÄ± kariyer Ã¶nerisi",
        "test_cevaplari": [
            # Phase 1: BM hedefi ama SGM'ye girebiliyor
            # Phase 1.5: YÃ¼ksek savaÅŸ riski farkÄ±ndalÄ±ÄŸÄ± + dual-use teknoloji ilgisi
            # Beklenen: BMâ†’SGM hibrit strateji + millÃ® gÃ¼venlik katkÄ± vurgusu
        ]
    },
    "dusuk_jeopolitik_farkindalik": {  # YENÄ°
        "beklenen": "sivil odaklÄ± motivasyon artÄ±rÄ±cÄ± yaklaÅŸÄ±m",
        "test_cevaplari": [
            # Jeopolitik farkÄ±ndalÄ±k dÃ¼ÅŸÃ¼k ama teknik yetenek yÃ¼ksek
            # Beklenen: Sivil teknoloji odaklÄ± kariyer + gÃ¼venlik farkÄ±ndalÄ±ÄŸÄ± geliÅŸtirme Ã¶nerisi
        ]
    }
}
```

---

## ğŸ¯ KULLANIM REHBERÄ°

### **Sistem Entegrasyonu:**
1. **Bu dokÃ¼man tek referans** olarak kullanÄ±lÄ±r
2. **DiÄŸer skorlama dokÃ¼manlarÄ± silinir** veya arÅŸive alÄ±nÄ±r
3. **Sistem promptu bu dokÃ¼manÄ± referans alÄ±r**
4. **TÃ¼m hesaplamalar bu algoritmalarla yapÄ±lÄ±r**

### **GÃ¼ncelleme ProsedÃ¼rÃ¼:**
- **Yeni soru eklendiÄŸinde** â†’ Sadece bu dokÃ¼man gÃ¼ncellenir
- **Hibrit strateji deÄŸiÅŸtiÄŸinde** â†’ Benzerlik matrisi burada gÃ¼ncellenir  
- **Bonus sistem deÄŸiÅŸtiÄŸinde** â†’ KatsayÄ±lar burada dÃ¼zeltilir

### **Performans Ä°zleme:**
- **Karar doÄŸruluÄŸu** â†’ Ã–ÄŸrenci memnuniyeti ile Ã¶lÃ§Ã¼lÃ¼r
- **Skorlama tutarlÄ±lÄ±ÄŸÄ±** â†’ AynÄ± profilde benzer sonuÃ§lar
- **Hibrit baÅŸarÄ± oranÄ±** â†’ Hibrit Ã¶nerilerinin gerÃ§ekleÅŸme oranÄ±

**Bu kapsamlÄ± skorlama sistemi, tÃ¼m phase'leri tek Ã§atÄ± altÄ±nda birleÅŸtirerek tutarlÄ± ve gÃ¼venilir sonuÃ§lar garanti eder.**
